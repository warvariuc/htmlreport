<html>
	<head>
		<script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
		<script type="text/javascript">
			var table;
			$(function() {
				table = $("#table");
			});
			var sys = {
				selectionStart : null,
				selectionEnd : null,
				draggingStart : null,
				r1 : null,
				c1 : null,
				r2 : null,
				c2 : null,
			};

			$(document).on("mousedown", "#table > tbody > tr > td.col-header, #table > tbody > tr > td.row-header", function(e) {
				sys.draggingStart = $(this);
				sys.draggingStart.data("startX", e.pageX);
				sys.draggingStart.data("startY", e.pageY);
				sys.draggingStart.data("startWidth", $(this).width());
				sys.draggingStart.data("startHeight", $(this).height());
				sys.draggingStart.data("tableWidth", table.width());
				sys.draggingStart.data("tableHeight", table.height());
			});

			$(document).on("mousemove", function(e) {
                if (sys.draggingStart) {
                    if (sys.draggingStart.hasClass("col-header")) {
                        var offset = e.pageX - sys.draggingStart.data("startX");
                        // console.log("--");
                        // console.log(table.width());
                        table.width(sys.draggingStart.data("tableWidth") + offset);
                        // console.log(table.width());
                        sys.draggingStart.width(sys.draggingStart.data("startWidth") + offset);
                    }
                    else {
                        var offset = e.pageY - sys.draggingStart.data("startY");
                        sys.draggingStart.height(sys.draggingStart.data("startHeight") + offset);
                        // console.log("--");
                        // console.log(table.height());
                        table.height(sys.draggingStart.data("tableHeight") + sys.draggingStart.height() - sys.draggingStart.data("startHeight"));
                        // console.log(table.height());
                    }
                }
			});

			$(document).on("mouseup", function() {
				sys.draggingStart = null;
			});

			$(document).on("selectstart", false);
		</script>

		<style type="text/css">
			#table {
				border-collapse: collapse;
				border-spacing: 0; /* cellspacing="0"*/
				table-layout: fixed;
				width: 400px;
				height: 60px;
			}
			td {
				padding-left: 4px;
				padding-right: 4px;
				cursor: default;
				border: 1px solid black;
			}
			td.col-header {
				overflow: hidden;
			}
			td.row-header {
				height: 20px;
				overflow: hidden;
			}
		</style>
	</head>

	<body>
		<table id="table">
			<tbody>
				<tr>
					<td class="col-header">32525</td>
					<td class="col-header">25</td>
					<td class="col-header">2153215</td>
					<td class="col-header">121425125125</td>
				</tr>
				<tr>
					<td class="row-header">32525</td>
					<td>25</td>
					<td>215 3215</td>
					<td>1214 2512 5125</td>
				</tr>
				<tr>
					<td class="row-header"></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
			</tbody>
		</table>
	</body>
</html>

